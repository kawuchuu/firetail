<!DOCTYPE html>
<html class="firetail dark">
    <head>
        <title>Firetail Crash</title>
        <link rel="stylesheet" href="./main.css">
        <link rel="stylesheet" href="./crash.css">
        <link href="../assets/material/material-icons.css" rel="stylesheet">
    </head>
    <body onload="transition()">
        <div class="content">
            <div class="crash-image"></div>
            <div class="text">
                <h1>Welp, that ain't good.</h1>
                <p>Unfortunately, Firetail has crashed.</p>
                <div id="restart" class="button" onclick="restart()">
                    <i class="material-icons">refresh</i>
                    <span>Restart Firetail</span>
                </div>
            </div>
        </div>
        <script>
            function transition() {
                setTimeout(() => {
                    document.querySelector('#restart').style.transition = "0.2s"
                }, 200)
            }
            let win = require('electron').remote.getCurrentWindow();
            let url = require('url');
            let path = require('path');
            function restart() {
                win.loadURL(url.format({
                    pathname: path.join(__dirname, './main.html'),
                    protocol: 'file:',
                    slashes: true
                }));
            }
        </script>
    </body>
</html>